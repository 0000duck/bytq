(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Detail/DraftDetail"],{"64d1":function(t,n,e){"use strict";var o=e("bc0f"),i=e.n(o);i.a},7468:function(t,n,e){"use strict";e.r(n);var o=e("f902"),i=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},"924e":function(t,n,e){"use strict";e.r(n);var o=e("9dd1"),i=e("7468");for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("64d1");var u,c=e("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"18b844fd",null,!1,o["a"],u);n["default"]=s.exports},"9dd1":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={uniNavBar:function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"9f0d"))},uniCollapse:function(){return e.e("components/uni-collapse/uni-collapse").then(e.bind(null,"54c5"))},uniCollapseItem:function(){return e.e("components/uni-collapse-item/uni-collapse-item").then(e.bind(null,"ca61"))},uniList:function(){return e.e("components/uni-list/uni-list").then(e.bind(null,"82e2"))},uniListItem:function(){return e.e("components/uni-list-item/uni-list-item").then(e.bind(null,"c19e"))},uniPopup:function(){return Promise.all([e.e("common/vendor"),e.e("components/uni-popup/uni-popup")]).then(e.bind(null,"ff31"))}},i=function(){var t=this,n=t.$createElement;t._self._c},a=[]},bc0f:function(t,n,e){},c469:function(t,n,e){"use strict";(function(t){e("588f");o(e("66fd"));var n=o(e("924e"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("8adf")["createPage"])},f902:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,i=function(){e.e("components/uni-collapse/uni-collapse").then(function(){return resolve(e("54c5"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("components/uni-collapse-item/uni-collapse-item").then(function(){return resolve(e("ca61"))}.bind(null,e)).catch(e.oe)},u=function(){Promise.all([e.e("common/vendor"),e.e("components/uni-popup/uni-popup")]).then(function(){return resolve(e("ff31"))}.bind(null,e)).catch(e.oe)},c=function(){e.e("components/uni-popup/uni-popup-message").then(function(){return resolve(e("9bf6"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/uni-popup/uni-popup-dialog").then(function(){return resolve(e("4a32"))}.bind(null,e)).catch(e.oe)},l={components:{uniCollapse:i,uniCollapseItem:a,uniPopup:u,uniPopupMessage:c,uniPopupDialog:s},onLoad:function(t){this.$data.stackid=t.Stock_Activity_Id,this.getList()},data:function(){return o=t.getStorageSync("userInfo").ApiToken,{dataType:getApp().globalData.SelType,message:"",AcQtyIndex:0,AcQty:0,maindata:{},stackid:"",content:""}},methods:{onLoad:function(t){this.$data.stackid=t.Id,this.getList()},Submit:function(){this.SaveDraft(),this.content="确定提交单据【"+this.$data.stackid+"]吗？",this.$refs.popupDialog.open()},ReSet:function(){getList()},SaveDraft:function(){var n=this.$data.maindata;n.Token=o,t.request({url:"http://192.168.1.26:5001/StockActivityIn/SaveForm",data:n,method:"POST",success:function(t){200==t.statusCode&&console.log(t)},fail:function(t,n){console.log("fail"+JSON.stringify(t))}})},getList:function(){var n=this;console.log(o),console.log(this.$data.stackid),t.request({url:"http://192.168.1.26:5001/StockActivityIn/GetForm",data:{orderId:this.$data.stackid},method:"GET",success:function(t){200==t.statusCode&&(console.log(t),n.maindata=t.data.Data)},fail:function(t,n){console.log("fail"+JSON.stringify(t))}})},openMesPuop:function(t){"2"==this.dataType?(console.log(t),this.$data.AcQtyIndex=t,this.$data.AcQty=this.$data.maindata.StockDetailList[t].Qty,this.$refs.dialogInput.open()):(this.message="不能修改明细数量",this.$refs.popupMessage.open())},dialogInputConfirm:function(n,e){/(^[1-9]\d*$)/.test(e)?(this.$data.maindata.StockDetailList[this.$data.AcQtyIndex].Qty=e,n()):(t.showLoading({title:"输入的内容不是数字"}),setTimeout((function(){t.hideLoading()}),1e3))},dialogConfirm:function(n,e){console.log("点击确认"),n(),t.request({url:"http://192.168.1.26:5001/StockActivityIn/StockActivityInApprove",data:{Stock_Activity_Id:this.$data.stackid,Is_forward:!0,Token:o},method:"GET",success:function(n){200==n.statusCode&&(console.log(n),"1"==n.data.Tag&&t.navigateBack({success:function(){beforePage.onLoad()}}))},fail:function(t,n){console.log("fail"+JSON.stringify(t))}})},dialogClose:function(t){t()}}};n.default=l}).call(this,e("8adf")["default"])}},[["c469","common/runtime","common/vendor"]]]);